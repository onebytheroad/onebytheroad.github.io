<script>
// 延迟执行，避免阻塞页面加载
setTimeout(function() {
    // 强制暗色模式
    document.documentElement.setAttribute('data-scheme', 'dark');
    localStorage.setItem('theme', 'dark');
    
    // 只在需要时创建样式
    if (!document.querySelector('#optimized-bg-style')) {
        const style = document.createElement('style');
        style.id = 'optimized-bg-style';
        style.textContent = `
            body::before {
                content: '' !important;
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100% !important;
                height: 100% !important;
                background-image: url('/img/bj.jpg') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                z-index: -9999 !important;
            }
        `;
        document.head.appendChild(style);
    }
}, 100);
</script>